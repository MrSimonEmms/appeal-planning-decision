{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}

{% macro cookieBannerRejected(attributes = {}) -%}
  {% set serviceName = attributes.serviceName | default('appeal a householder planning decision service', true) %}
  {% set cookiePagePath = attributes.cookiePagePath | default('/cookies', true) %}

  {% set ariaLabel = 'Cookies on %serviceName%' | replace('%serviceName%', serviceName) %}

  {% set rejectedHtml %}
    <p>Youâ€™ve rejected analytics cookies. You can <a class="govuk-link" href="{{ cookiePagePath }}">change your cookie settings</a> at any time.</p>
  {% endset %}

  <form action="" method="post" accept-charset="utf-8">
    {{ govukCookieBanner({
      ariaLabel: ariaLabel,
      attributes: { "data-cy": "cookie-banner-rejected" },
      messages: [
        {
          html: rejectedHtml,
          actions: [
            {
              text: "Hide this message",
              type: "submit",
              name: "cookie_banner_rejected",
              value: "hide",
              attributes: { "data-cy": "cookie-banner-rejected-hide-message" }
            }
          ]
        }
      ]
    }) }}
  </form>
{%- endmacro %}
